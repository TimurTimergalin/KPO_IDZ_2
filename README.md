# ИДЗ№1

**Выполнил:** Тимергалин Тимур Маратович, БПИ227

## Описание приложения

### Запуск приложения

Приложение написано на *kotlin* с использованием web-фреймворка *ktor*. Сервер запускается на `localhost`-е, порт указывается в `resources/application.conf `(`ktor.deployment.port`) или переменной среды `PORT`.

Для корректной работы сервера ему необходимо подключение к БД. В решении используется *PostgreSql*, для запуска БД приложен файл `docker-compose.yaml`. Содержимое базы данных сохраняется в отдельный volume, предотвращая случайную потерю данных.

### Аутентификация

Поддерживается 2 вида пользователей: клиенты ресторана и администраторы. Для авторизации в качестве клиента необходимо заполнить форму регистрации.

Администраторы не могут зарегистрироваться на сайте, их логины и пароли уже известны системе. Они добавляются в базу данных при запуске сервера, данные авторизации для администраторов указываются в `resources/application.conf `(`storage.admins`)

### Возможности пользователей

После авторизации пользователи попадают на главное меню приложения. Всем пользователям доступны следующие вкладки:

- `New Order` - переход к созданию нового и просмотру текущего заказа; здесь также можно посмотреть и оставить отзыв  к блюду;
- `My Orders` - история заказов пользователя;
- `Account` - управление аккаунтом пользователя.

Администраторам также доступны следующие вкладки:

-  `Menu` - настройка содержимого меню;
- `Statistics` - просмотр статистики блюд; здесь также можно посмотреть и оставить отзыв  к блюду.

## Паттерны

В основе работы приложения лежит класс `EventCenter` - посредник + наблюдатель, принимающий сигналы (объекты классов, реализующих интерфейс `Event`) от различных компонентов системы и сообщающий об этих сигналах своим подписчикам.

В решении также используется фасад для работы с базой данных.